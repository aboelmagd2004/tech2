@inject Microsoft.AspNetCore.Identity.UserManager<TechXpress.Data.Models.ApplicationUser> UserManager
@using Microsoft.AspNetCore.Identity
<div class="dropdown-menu dropdown-menu-end user-dropdown">
    <h6 class="dropdown-header">@UserManager.GetUserAsync(User).Result?.Email</h6>
    <a class="dropdown-item" href="@Url.Action("Profile", "Account")">
        <i class="fas fa-user me-2"></i> My Profile
    </a>
    <a class="dropdown-item" href="@Url.Action("Settings", "Account")">
        <i class="fas fa-cog me-2"></i> Account Settings
    </a>
    @if (User.IsInRole("Admin"))
    {
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="@Url.Action("Index", "AdminSettings")">
            <i class="fas fa-sliders-h me-2"></i> Admin Settings
        </a>
    }
    <div class="dropdown-divider"></div>
    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
        <button type="submit" class="dropdown-item">
            <i class="fas fa-sign-out-alt me-2"></i> Logout
        </button>
    </form>
</div>